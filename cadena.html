<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chasse aux indices â¤ï¸</title>
<link rel="stylesheet" href="style.css">
<script src="script.js"></script>
</head>
<body>

<img src="https://media.giphy.com/media/l41lI4bYmcsPJX9Go/giphy.gif" class="bg-gif">

<h1>Pour ouvrir mon cÅ“ur ğŸ’–</h1>
<p>DÃ©bloque les indices pour deviner le code ğŸ”</p>

<!-- MENU CHOIX POUR INDICES -->
<div style="margin:20px;">
  <p>Choisis comment dÃ©bloquer un indice :</p>
  <button class="btn" onclick="revealHint('fastfood')">Chercher mon fast-food prÃ©fÃ©rÃ© ğŸ”</button>
  <button class="btn" onclick="revealHint('famille')">Deviner mon nom de famille ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦</button>
  <button class="btn" onclick="revealHint('frere')">Deviner le prÃ©nom de mon petit frÃ¨re ğŸ‘¦</button>
  <button class="btn" onclick="revealHint('secret')">RÃ©vÃ©ler le code entier ğŸ¯</button>
  <p id="hintStatus"></p>
</div>

<!-- Affichage des indices -->
<div id="indices">
  <p id="indice1">Indice 1 : ğŸ”’</p>
  <p id="indice2">Indice 2 : ğŸ”’</p>
  <p id="indice3">Indice 3 : ğŸ”’</p>
</div>

<!-- CADENAS -->
<div class="padlock">ğŸ”’</div>
<div class="code">
  <div class="num" onclick="next(this)">0</div>
  <div class="num" onclick="next(this)">0</div>
  <div class="num" onclick="next(this)">0</div>
  <div class="num" onclick="next(this)">0</div>
</div>

<button class="btn" onclick="checkCode()">VÃ©rifier ğŸ’•</button>
<p id="status"></p>

<script>
let unlocked = 0;
const codeFinal = "5219"; // Code final
const hintsUsed = {fastfood:false,famille:false,frere:false};

// Fonction pour dÃ©bloquer indices
function revealHint(option){
  const status = document.getElementById("hintStatus");

  if(option==='fastfood'){
    const answer = prompt("Quel est mon fast-food prÃ©fÃ©rÃ© ? ğŸ”").toLowerCase().trim();
    if(answer==="tasty crousty" && !hintsUsed.fastfood){
      hintsUsed.fastfood=true;
      unlocked++;
      document.getElementById(`indice${unlocked}`).textContent="Indice 1 : Fast-food prÃ©fÃ©rÃ© = 5 ğŸ”";
      status.textContent="Bravo ! Indice dÃ©bloquÃ© â¤ï¸";
    } else status.textContent="Essaie encore ğŸ˜˜";
  }

  if(option==='famille'){
    const answer = prompt("Quel est mon nom de famille ? ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦").toLowerCase().trim();
    if(answer==="kalomanana" && !hintsUsed.famille){
      hintsUsed.famille=true;
      unlocked++;
      document.getElementById(`indice${unlocked}`).textContent="Indice 2 : Nom de famille = 2 ğŸ·ï¸";
      status.textContent="Bravo ! Indice dÃ©bloquÃ© â¤ï¸";
    } else status.textContent="Essaie encore ğŸ˜˜";
  }

  if(option==='frere'){
    const answer = prompt("Comment s'appelle mon petit frÃ¨re ? ğŸ‘¦").toLowerCase().trim();
    if(answer==="mathis" && !hintsUsed.frere){
      hintsUsed.frere=true;
      unlocked++;
      document.getElementById(`indice${unlocked}`).textContent="Indice 3 : PrÃ©nom frÃ¨re = 1 ğŸ‚";
      status.textContent="Bravo ! Indice dÃ©bloquÃ© â¤ï¸";
    } else status.textContent="Essaie encore ğŸ˜˜";
  }

  if(option==='secret'){
    const answer = prompt("RÃ©ponds Ã  la question pour obtenir le code entier : Quel jour de la semaine sâ€™est passÃ© notre premier rendez-vous ?").toLowerCase().trim();
    if(answer==="mardi"){
      unlocked=3;
      document.getElementById("indice1").textContent="Indice 1 : 5";
      document.getElementById("indice2").textContent="Indice 2 : 2";
      document.getElementById("indice3").textContent="Indice 3 : 1";
      status.textContent="Code entier dÃ©bloquÃ© ! ğŸ”“";
    } else {
      status.textContent="Non ğŸ˜˜, rÃ©flÃ©chis bien !";
    }
  }
}

// CADENAS
function next(el){
  let n=parseInt(el.textContent);
  el.textContent=(n+1)%10;
}

// VÃ©rifier code
function checkCode(){
  const nums=document.querySelectorAll(".num");
  let code="";
  nums.forEach(n=>code+=n.textContent);
  const status=document.getElementById("status");
  if(code===codeFinal){
    status.textContent="Bravo ! Cadenas ouvert â¤ï¸";
    status.style.color="#ff99cc";
    document.querySelector(".padlock").textContent="ğŸ”“";
    document.querySelector(".padlock").classList.add("unlock");
    setTimeout(()=>{window.location.href="sorpresa.html"},1500);
  } else {
    status.textContent="Essaie encore ğŸ˜˜";
    status.style.color="white";
  }
}
</script>

</body>
</html>
